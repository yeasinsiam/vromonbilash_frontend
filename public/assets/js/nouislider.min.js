!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){var e=t.getBoundingClientRect(),n=t.ownerDocument.documentElement,i=a();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:e.top+i.y-n.clientTop,left:e.left+i.x-n.clientLeft}}function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(t,e,n){o(t,e),setTimeout(function(){s(t,e)},n)}function i(t){return Math.max(Math.min(t,100),0)}function r(t){return Array.isArray(t)?t:[t]}function o(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function s(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function a(){var t,e=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return{x:e?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}}function l(t){t.stopPropagation()}var u=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};function c(t,e){return 100/(e-t)}function f(t,e){return 100*e/(t[1]-t[0])}function p(t,e){for(var n=1;t>=e[n];)n+=1;return n}function d(t,n,i){var r;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw Error("noUiSlider: 'range' contains invalid value.");if(!e(r="min"===t?0:"max"===t?100:parseFloat(t))||!e(n[0]))throw Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1])}function $(t,e,n){if(!e)return!0;n.xSteps[t]=f([n.xVal[t],n.xVal[t+1]],e)/c(n.xPct[t],n.xPct[t+1])}function h(t,e,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var r,o=[];for(r in t)t.hasOwnProperty(r)&&o.push([t[r],r]);for(o.length&&"object"==typeof o[0][0]?o.sort(function(t,e){return t[0][0]-e[0][0]}):o.sort(function(t,e){return t[0]-e[0]}),r=0;r<o.length;r++)d(o[r][1],o[r][0],this);for(r=0,this.xNumSteps=this.xSteps.slice(0);r<this.xNumSteps.length;r++)$(r,this.xNumSteps[r],this)}h.prototype.getMargin=function(t){return 2===this.xPct.length&&f(this.xVal,t)},h.prototype.toStepping=function(t){return t=function t(e,n,i){if(i>=e.slice(-1)[0])return 100;var r,o,s,a,l,u,d=p(i,e);return r=e[d-1],o=e[d],s=n[d-1],a=n[d],s+(l=[r,o],u=i,f(l,l[0]<0?u+Math.abs(l[0]):u-l[0])/c(s,a))}(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},h.prototype.fromStepping=function(t){var e;return this.direction&&(t=100-t),Number((Math.round(1e7*(e=function t(e,n,i){if(i>=100)return e.slice(-1)[0];var r,o,s,a,l,u,f=p(i,n);return r=e[f-1],o=e[f],s=n[f-1],a=n[f],l=[r,o],(u=(i-s)*c(s,a))*(l[1]-l[0])/100+l[0]}(this.xVal,this.xPct,t)))/1e7).toFixed(7))},h.prototype.getStep=function(t){return this.direction&&(t=100-t),t=function t(e,n,i,r){if(100===r)return r;var o,s,a,l,u=p(r,e);return i?r-(a=e[u-1])>((l=e[u])-a)/2?l:a:n[u-1]?e[u-1]+(o=r-e[u-1],Math.round(o/(s=n[u-1]))*s):r}(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},h.prototype.getApplicableStep=function(t){var e=p(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n],]},h.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var m={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function _(t,n){if(!e(n))throw Error("noUiSlider: 'step' is not numeric.");t.singleStep=n}function g(t,e){if("object"!=typeof e||Array.isArray(e))throw Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new h(e,t.snap,t.dir,t.singleStep)}function v(t,e){if(!Array.isArray(e=r(e))||!e.length||e.length>2)throw Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function b(t,e){if(t.snap=e,"boolean"!=typeof e)throw Error("noUiSlider: 'snap' option must be a boolean.")}function S(t,e){if(t.animate=e,"boolean"!=typeof e)throw Error("noUiSlider: 'animate' option must be a boolean.")}function x(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(!0===e&&2===t.handles)t.connect=3;else if(!1===e)t.connect=0;else throw Error("noUiSlider: 'connect' option doesn't match handle count.")}function y(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function w(t,n){if(!e(n))throw Error("noUiSlider: 'margin' option must be numeric.");if(0!==n&&(t.margin=t.spectrum.getMargin(n),!t.margin))throw Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function E(t,n){if(!e(n))throw Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit)throw Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function U(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function P(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,r=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(i&&!t.connect)throw Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:n||o,drag:i,fixed:r,snap:o,hover:s}}function N(t,e){var n;if(!1!==e){if(!0===e)for(n=0,t.tooltips=[];n<t.handles;n++)t.tooltips.push(!0);else{if(t.tooltips=r(e),t.tooltips.length!==t.handles)throw Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}}function L(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function O(t,e){if(void 0!==e&&"string"!=typeof e)throw Error("noUiSlider: 'cssPrefix' must be a string.");t.cssPrefix=e}function M(t){var e,n={margin:0,limit:0,animate:!0,format:m},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(e={step:{r:!1,t:_},start:{r:!0,t:v},connect:{r:!0,t:x},direction:{r:!0,t:U},snap:{r:!1,t:b},animate:{r:!1,t:S},range:{r:!0,t:g},orientation:{r:!1,t:y},margin:{r:!1,t:w},limit:{r:!1,t:E},behaviour:{r:!0,t:P},format:{r:!1,t:L},tooltips:{r:!1,t:N},cssPrefix:{r:!1,t:O}}).forEach(function(r){if(void 0===t[r]&&void 0===i[r]){if(e[r].r)throw Error("noUiSlider: '"+r+"' is required.");return!0}e[r].t(n,void 0===t[r]?i[r]:t[r])}),n.pips=t.pips,n.style=n.ort?"top":"left",n}return{create:function e(c,f){if(!c.nodeName)throw Error("noUiSlider.create requires a single element.");var p=M(f,c),d=function e(c,f){var p,d,$,h,m,_,g,v,b,S=c,x=[-1,-1],y=f.spectrum,w=[],E={},U=["target","base","origin","handle","horizontal","vertical","background","connect","ltr","rtl","draggable","","state-drag","","state-tap","active","","stacking","tooltip","","pips","marker","value",].map((b=f.cssPrefix||"noUi-",function(t){return b+t}));function P(t,e){var n=document.createElement("div"),i=document.createElement("div"),r=["-lower","-upper"];return t&&r.reverse(),o(i,U[3]),o(i,U[3]+r[e]),o(n,U[2]),n.appendChild(i),n}function N(t){var e,n=t.mode,i=t.density||1,r=t.filter||!1,s=function t(e,n,i){if("range"===e||"steps"===e)return y.xVal;if("count"===e){var r,o=100/(n-1),s=0;for(n=[];(r=s++*o)<=100;)n.push(r);e="positions"}return"positions"===e?n.map(function(t){return y.fromStepping(i?y.getStep(t):t)}):"values"===e?i?n.map(function(t){return y.fromStepping(y.getStep(y.toStepping(t)))}):n:void 0}(n,t.values||!1,t.stepped||!1),a=function t(e,n,i){function r(t,e){return(t+e).toFixed(7)/1}var o,s=y.direction,a={},l=y.xVal[0],u=y.xVal[y.xVal.length-1],c=!1,f=!1,p=0;return y.direction=0,(i=(o=i.slice().sort(function(t,e){return t-e})).filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==l&&(i.unshift(l),c=!0),i[i.length-1]!==u&&(i.push(u),f=!0),i.forEach(function(t,o){var s,l,u,d,$,h,m,_,g,v,b=t,S=i[o+1];if("steps"===n&&(s=y.xNumSteps[o]),s||(s=S-b),!1!==b&&void 0!==S)for(l=b;l<=S;l=r(l,s)){for(u=1,g=Math.round(_=($=(d=y.toStepping(l))-p)/e),v=$/g;u<=g;u+=1)a[(h=p+u*v).toFixed(5)]=["x",0];m=i.indexOf(l)>-1?1:"steps"===n?2:0,!o&&c&&(m=0),l===S&&f||(a[d.toFixed(5)]=[l,m]),p=d}}),y.direction=s,a}(i,n,s),l=t.format||{to:Math.round};return S.appendChild(function t(e,n,i){var r=["horizontal","vertical"][f.ort],s=document.createElement("div"),a="";function l(t,e,n){var i;return'class="'+e+" "+e+"-"+r+" "+e+["-normal","-large","-sub"][i=n[1]]+'" style="'+f.style+": "+t+'%"'}return o(s,U[20]),o(s,U[20]+"-"+r),Object.keys(e).forEach(function(t){var r,o;r=t,o=e[t],y.direction&&(r=100-r),o[1]=o[1]&&n?n(o[0],o[1]):o[1],a+="<div "+l(r,U[21],o)+"></div>",o[1]&&(a+="<div "+l(r,U[22],o)+">"+i.to(o[0])+"</div>")}),s.innerHTML=a,s}(a,r,l))}function L(){var t=_.getBoundingClientRect(),e="offset"+["Width","Height"][f.ort];return 0===f.ort?t.width||_[e]:t.height||_[e]}function O(t,e,n){void 0!==e&&1!==f.handles&&(e=Math.abs(e-f.dir)),Object.keys(E).forEach(function(i){t===i.split(".")[0]&&E[i].forEach(function(t){t.call(v,r(H()),e,r(k(Array.prototype.slice.call(w))),n||!1,x)})})}function k(t){return 1===t.length?t[0]:f.dir?t.reverse():t}function C(t,e,n,i){var r=function(e){var r,o,s,l,c,p,d,$,h,m;if(S.hasAttribute("disabled")||(r=S,o=U[14],r.classList?r.classList.contains(o):RegExp("\\b"+o+"\\b").test(r.className))||(e=(s=e,l=i.pageOffset,s.preventDefault(),d=0===s.type.indexOf("touch"),$=0===s.type.indexOf("mouse"),h=0===s.type.indexOf("pointer"),m=s,0===s.type.indexOf("MSPointer")&&(h=!0),d&&(c=s.changedTouches[0].pageX,p=s.changedTouches[0].pageY),l=l||a(),($||h)&&(c=s.clientX+l.x,p=s.clientY+l.y),m.pageOffset=l,m.points=[c,p],m.cursor=$||h,m),t===u.start&&void 0!==e.buttons&&e.buttons>1||i.hover&&e.buttons))return!1;e.calcPoint=e.points[f.ort],n(e,i)},o=[];return t.split(" ").forEach(function(t){e.addEventListener(t,r,!1),o.push([t,r])}),o}function A(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return V(t,e);var n,r,o,s,a,l,u,c=e.handles||g,f=!1,p=(t.calcPoint-e.start)*100/e.baseSize,d=c[0]===g[0]?0:1;if(n=(o=p,s=e.positions,a=c.length>1,l=o+s[0],u=o+s[1],a?(l<0&&(u+=Math.abs(l)),u>100&&(l-=u-100),[i(l),i(u)]):[l,u]),f=j(c[0],n[d],1===c.length),c.length>1){if(f=j(c[1],n[d?0:1],!1)||f)for(r=0;r<e.handles.length;r++)O("slide",r)}else f&&O("slide",d)}function V(t,e){var n=_.querySelector("."+U[15]),i=e.handles[0]===g[0]?0:1;null!==n&&s(n,U[15]),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var r=document.documentElement;r.noUiListeners.forEach(function(t){r.removeEventListener(t[0],t[1])}),s(S,U[12]),O("set",i),O("change",i),void 0!==e.handleNumber&&O("end",e.handleNumber)}function F(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&V(t,e)}function T(t,e){var n=document.documentElement;if(1===e.handles.length&&(o(e.handles[0].children[0],U[15]),e.handles[0].hasAttribute("disabled")))return!1;t.preventDefault(),t.stopPropagation();var i=C(u.move,n,A,{start:t.calcPoint,baseSize:L(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[x[0],x[g.length-1],]}),r=C(u.end,n,V,{handles:e.handles,handleNumber:e.handleNumber}),s=C("mouseout",n,F,{handles:e.handles,handleNumber:e.handleNumber});if(n.noUiListeners=i.concat(r,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,g.length>1&&o(S,U[12]);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==e.handleNumber&&O("start",e.handleNumber)}function q(e){var i,r,o=e.calcPoint,s=0;if(e.stopPropagation(),g.forEach(function(e){s+=t(e)[f.style]}),g[i=o<s/2||1===g.length?0:1].hasAttribute("disabled")&&(i=i?0:1),o-=t(_)[f.style],r=100*o/L(),f.events.snap||n(S,U[14],300),g[i].hasAttribute("disabled"))return!1;j(g[i],r),O("slide",i,!0),O("set",i,!0),O("change",i,!0),f.events.snap&&T(e,{handles:[g[i]]})}function z(e){var n=e.calcPoint-t(_)[f.style],i=y.getStep(100*n/L()),r=y.fromStepping(i);Object.keys(E).forEach(function(t){"hover"===t.split(".")[0]&&E[t].forEach(function(t){t.call(v,r)})})}function j(t,e,n){var r=t!==g[0]?1:0,a=x[0]+f.margin,l=x[1]-f.margin,u=x[0]+f.limit,c=x[1]-f.limit;return g.length>1&&(e=r?Math.max(e,a):Math.min(e,l)),!1!==n&&f.limit&&g.length>1&&(e=r?Math.min(e,u):Math.max(e,c)),(e=i(parseFloat((e=y.getStep(e)).toFixed(7))))!==x[r]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[f.style]=e+"%"}):t.style[f.style]=e+"%",!t.previousSibling&&(s(t,U[17]),e>50&&o(t,U[17])),x[r]=e,w[r]=y.fromStepping(e),O("update",r),!0)}function D(t){var e,i,o=r(t);for(f.dir&&f.handles>1&&o.reverse(),f.animate&&-1!==x[0]&&n(S,U[14],300),e=g.length>1?3:1,1===o.length&&(e=1),function t(e,n){var i,r,o;for(f.limit&&(e+=1),i=0;i<e;i+=1)null!==(o=n[r=i%2])&&!1!==o&&("number"==typeof o&&(o=String(o)),(!1===(o=f.format.from(o))||isNaN(o)||!1===j(g[r],y.toStepping(o),i===3-f.dir))&&O("update",r))}(e,o),i=0;i<g.length;i++)null!==o[i]&&O("set",i)}function H(){var t,e=[];for(t=0;t<f.handles;t+=1)e[t]=f.format.to(w[t]);return k(e)}function X(t,e){E[t]=E[t]||[],E[t].push(e),"update"===t.split(".")[0]&&g.forEach(function(t,e){O("update",e)})}if(S.noUiSlider)throw Error("Slider was already initialized.");return _=(p=f.dir,d=f.ort,$=S,o($,U[0]),o($,U[8+p]),o($,U[4+d]),o(h=document.createElement("div"),U[1]),$.appendChild(h),h),g=function t(e,n,i){var r,o=[];for(r=0;r<e;r+=1)o.push(i.appendChild(P(n,r)));return o}(f.handles,f.dir,_),!function t(e,n,i){switch(e){case 1:o(n,U[7]),o(i[0],U[6]);break;case 3:o(i[1],U[6]);case 2:o(i[0],U[7]);case 0:o(n,U[6])}}(f.connect,S,g),f.pips&&N(f.pips),f.tooltips&&(f.dir&&f.tooltips.reverse(),m=g.map(function t(e,n){if(!f.tooltips[n])return!1;var i=document.createElement("div");return i.className=U[18],e.firstChild.appendChild(i)}),f.dir&&(m.reverse(),f.tooltips.reverse()),X("update",function(t,e,n){m[e]&&(m[e].innerHTML=!0===f.tooltips[e]?t[e]:f.tooltips[e].to(n[e]))})),v={destroy:function t(){for(U.forEach(function(t){t&&s(S,t)});S.firstChild;)S.removeChild(S.firstChild);delete S.noUiSlider},steps:function t(){return k(x.map(function(t,e){var n,i,r=y.getApplicableStep(t),o=(i=(n=String(r[2])).split(".")).length>1?i[1].length:0,s=w[e],a=100===t?null:r[2],l=Number((s-r[2]).toFixed(o));return[0===t?null:l>=r[1]?r[2]:r[0]||!1,a]}))},on:X,off:function t(e){var n=e.split(".")[0],i=e.substring(n.length);Object.keys(E).forEach(function(t){var e=t.split(".")[0],r=t.substring(e.length);n&&n!==e||i&&i!==r||delete E[t]})},get:H,set:D,updateOptions:function t(e){var n,i=H(),r=M({start:[0,0],margin:e.margin,limit:e.limit,step:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?f.snap:e.snap});for(["margin","limit","step","range","animate"].forEach(function(t){void 0!==e[t]&&(f[t]=e[t])}),r.spectrum.direction=y.direction,y=r.spectrum,x=[-1,-1],D(i),n=0;n<g.length;n++)O("update",n)},options:f,target:S,pips:N},!function t(e){var n,i;if(!e.fixed)for(n=0;n<g.length;n+=1)C(u.start,g[n].children[0],T,{handles:[g[n]],handleNumber:n});if(e.tap&&C(u.start,_,q,{handles:g}),e.hover)for(C(u.move,_,z,{hover:!0}),n=0;n<g.length;n+=1)["mousemove MSPointerMove pointermove"].forEach(function(t){g[n].children[0].addEventListener(t,l,!1)});e.drag&&(o((i=[_.querySelector("."+U[7])])[0],U[10]),e.fixed&&i.push(g[i[0]===g[0]?1:0].children[0]),i.forEach(function(t){C(u.start,t,T,{handles:g})}))}(f.events),v}(c,p);return d.set(p.start),c.noUiSlider=d,d}}});